<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sinho.hycu.boardNotice.repository.mapper.BoardListMapper">
	<insert id="insertNoticeBoardList" useGeneratedKeys="true" keyProperty="seq" >
		INSERT INTO boardlist(
			userid,
			subject,
			contents,
			password,
			create_dt,
			full_name
		) VALUES(
			#{userid},
			#{subject},
			#{contents},
			#{password},
			now(),
			#{fullName}
		)
	</insert>
	
	<!-- 게시판목록조회 -->
	<select id="selectNoticeBoardList" resultType="BoardListMgt">
		SELECT
		    seq,
			userid,
			subject,
			contents,
			create_dt,
			update_dt,
			full_name
		 FROM boardlist
		 WHERE delete_flag IS NULL
		 ORDER BY seq DESC
	</select>
	
	<!-- 게시글 조회 -->
	<select id="selectNoticeBoardDetail" resultType="BoardListMgt">
		SELECT
		    seq,
			userid,
			subject,
			contents,
			create_dt,
			update_dt,
			full_name
		 FROM boardlist
		 WHERE seq = #{seq}
	</select>
	
	<!-- 게시글 업데이트 -->
	<update id="UpdateNoticeBoardDetail" parameterType="BoardListMgt">
		UPDATE
			boardlist
		SET
		    subject = #{subject},
			contents = #{contents},
			update_dt = now()
		 WHERE seq = #{seq}
	</update>
	
	<!-- 게시글 삭제처리(화면에만 미노출) -->
	<update id="DeleteNoticeBoardList" parameterType="BoardListMgt">
		UPDATE
			boardlist
		SET
		    delete_flag = 'Y'
		 WHERE seq = #{seq}
	</update>
</mapper>